(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cdb3b80"],{"20db":function(t,a,e){},"3a1b":function(t,a,e){"use strict";e.d(a,"a",(function(){return i}));var i={getTodayFireAlarmInfos:"/cloud-video/deviceAlarm",getDurationFireAlarmInfos:"/cloud-video/deviceAlarm/list",confirmFireAlarmInfo:"/cloud-video/deviceAlarm/status"}},4568:function(t,a){t.exports="data:image/png;base64,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"},"644a7":function(t,a,e){"use strict";var i=e("20db"),r=e.n(i);r.a},"9f0a":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAABUElEQVQ4T6XTzYtPYRjG8c8deQkRU1I2bEQpykIxmdWMlCzsLJQslA1/hpU05V9Q8lKKRl6yURbsLGwtZGkrikuPzugYv2NOv3k2p55zXd/u+7nvqwycJJtwvapuDGkm3dekyyRb8Agbq2p2TcAk2/EEJ/B6TcAku/AUx7qqpgcm2Y3nONxr8Qse4G37V1UfV2v/9xsm2YsXOPAfQ/AGi7hXVT8nDiXJPrxE+449reLLVfV+paGSvMLcWFJP9xWXqupu39uAe7p2D00B/YGLVXVn2bv8hjN4hqNTQL/hZFW9a94/i51kB5ZwvAf9jPvYhrYFbWj7+75O+wFHqur7X0lJshWPcWpoD5PsxDwu4AzWddprVbX4T/SSbMZDnF4tKUkO4man/dSqH8ryBrTpzYyJXpKruIXzE4Hdsq/Hlaq6PWZQSc7i3CBwDGSlJsnCL0ZYaTp7uIhrAAAAAElFTkSuQmCC"},a5e1:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container"},[e("button",{staticClass:"back",attrs:{type:"button"},on:{click:t.back}},[e("img",{attrs:{src:t.backImg}}),t._v(" 火情报警 ")]),e("div",{staticClass:"rightBox"},[e("div",{staticClass:"dateBox"},[e("el-date-picker",{staticClass:"datePickerStyle",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"popper-class":"chooseDateStyle"},on:{change:t.dateSearch},model:{value:t.date1,callback:function(a){t.date1=a},expression:"date1"}}),e("button",{staticClass:"more",attrs:{type:"button"},on:{click:function(a){return t.addressSearch()}}},[e("img",{attrs:{src:t.searchImg}})]),e("el-input",{staticClass:"searchInput",nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.addressSearch()}},model:{value:t.pageData.alarmAddress,callback:function(a){t.$set(t.pageData,"alarmAddress",a)},expression:"pageData.alarmAddress"}},[e("template",{slot:"prepend"},[t._v("地点：")])],2)],1),e("div",{staticClass:"tableBox"},[t.firePoliceList?e("el-table",{staticClass:"webFsScroll",attrs:{data:t.firePoliceList,stripe:"","empty-text":"no data","tooltip-effect":"light"},on:{"row-click":t.ClickTableRow}},[e("el-table-column",{attrs:{label:"",width:"33",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-radio",{attrs:{label:a.$index},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[t._v(t._s(""))])]}}],null,!1,152931958)}),e("el-table-column",{attrs:{align:"center",label:"报警时间",prop:"alarmTime",width:"180px"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center",label:"报警地点",prop:"alarmAddress",width:"200px",title:"alarmAddress"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[t._v(t._s(a.row.alarmAddress))])]}}],null,!1,3329033507)}),e("el-table-column",{attrs:{align:"center",label:"类型",prop:"alarmTypeName"}}),e("el-table-column",{attrs:{align:"center",label:"报警图片",prop:"alarmPicList",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{staticStyle:{width:"30px",height:"30px","margin-top":"7px"},attrs:{fit:"fill",src:t.row.alarmPicList[0].picPath}},[e("div",{attrs:{slot:"placeholder"},slot:"placeholder"}),e("div",{attrs:{slot:"error"},slot:"error"})]),e("el-image",{staticStyle:{width:"30px",height:"30px","margin-left":"10px"},attrs:{fit:"fill",src:t.row.alarmPicList[1].picPath}},[e("div",{attrs:{slot:"placeholder"},slot:"placeholder"}),e("div",{attrs:{slot:"error"},slot:"error"})])]}}],null,!1,1793266483)}),e("el-table-column",{attrs:{align:"center",label:"报警设备",prop:"deviceName",width:"200px"}}),e("el-table-column",{attrs:{align:"center",label:"状态",prop:"alarmStatus"}}),e("el-table-column",{attrs:{align:"center",label:"确认时间",prop:"updateTime",width:"180px"}})],1):t._e(),e("el-pagination",{staticClass:"tablePagination",attrs:{"popper-class":"pageSelect",total:t.pageData.total,"page-size":t.pageData.pageSize,"current-page":t.pageData.currentPage,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(a){return t.$set(t.pageData,"currentPage",a)},"update:current-page":function(a){return t.$set(t.pageData,"currentPage",a)},"current-change":t.currentPageChange}})],1)])]),t.fireDetailInfo?e("el-dialog",{staticClass:"dialogStyle",attrs:{title:"火情详情",visible:t.showFireDetail,width:"30%"},on:{"update:visible":function(a){t.showFireDetail=a}}},[e("div",{staticClass:"fireDetailDialogContent"},[e("div",{staticClass:"textDiv1"},[e("div",{staticClass:"textDiv2"},[t._v("接警时间：")]),e("div",{staticClass:"textDiv3"},[t._v(t._s(t.fireDetailInfo.alarmTime))])]),e("div",{staticClass:"textDiv1"},[e("div",{staticClass:"textDiv2"},[t._v("类型：")]),e("div",{staticClass:"textDiv3"},[t._v(t._s(t.fireDetailInfo.alarmTypeName))])]),e("div",{staticClass:"textDiv1"},[e("div",{staticClass:"textDiv2"},[t._v("报警设备：")]),e("div",{staticClass:"textDiv3"},[t._v(t._s(t.fireDetailInfo.deviceName))])]),e("div",[e("div",{staticClass:"textDiv4"},[t._v("报警图片")]),e("div",{staticClass:"textDiv5"},[e("el-image",{staticStyle:{width:"196px",height:"151px","margin-top":"3px","margin-left":"5px"},attrs:{fit:"fill",src:t.fireDetailInfo.image1},on:{click:function(a){return t.tipShow(1)}}},[e("div",{attrs:{slot:"placeholder"},slot:"placeholder"}),e("div",{attrs:{slot:"error"},slot:"error"})]),e("el-image",{staticStyle:{width:"196px",height:"151px","margin-top":"3px","margin-left":"5px"},attrs:{fit:"fill",src:t.fireDetailInfo.image2},on:{click:function(a){return a.stopPropagation(),t.tipShow(2)}}},[e("div",{attrs:{slot:"placeholder"},slot:"placeholder"}),e("div",{attrs:{slot:"error"},slot:"error"})])],1)]),e("div",[e("div",{staticClass:"textDiv6"},[t._v("报警地点："+t._s(t.fireDetailInfo.alarmAddress))]),e("div",{staticClass:"textDiv5"},[e("div",{staticStyle:{width:"395px",height:"147px","background-color":"gray",margin:"6px 8px 5px 7px"}},[e("gMap",{ref:"gduMap",attrs:{handleType:"devMap",bShowSimpleSearchTools:!1,bShowBasic:!1,bShowMeasure:!1,bShowLonLat:!1,bAutoLocate:!1}})],1)])])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.fireDetailInfo.showConfirm,expression:"fireDetailInfo.showConfirm"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"trueBtn",attrs:{type:"primary"},on:{click:function(a){return t.confirmFireDetail("confirmed")}}},[t._v("确 认")]),e("el-button",{staticClass:"falseBtn",on:{click:function(a){return t.confirmFireDetail("mistaken")}}},[t._v("误 报")])],1)]):t._e(),e("el-dialog",{staticClass:"cutDialog",attrs:{visible:t.cutDialogVisible,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(a){t.cutDialogVisible=a}}},[e("img",{attrs:{src:t.clickImgUrl,alt:""}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticStyle:{width:"87px"},attrs:{type:"primary",size:"mini"},on:{click:function(a){t.cutDialogVisible=!1}}},[t._v("关闭")])],1)])],1)},r=[],s=(e("c975"),e("96cf"),e("1da1")),l=e("3a1b"),o=e("0a1b"),n=e("5c96"),c={created:function(){this.getFirePoliceList()},data:function(){return{cutDialogVisible:!1,clickImgUrl:"",backImg:e("9f0a"),firePoliceList:[],date1:[],radio:-1,pageData:{total:0,pageSize:10,currentPage:1,beginTime:"",endTime:"",alarmAddress:""},showFireDetail:!1,fireDetailInfo:{id:0,alarmTime:0,alarmTypeName:"",deviceName:"",alarmAddress:"",alarmStatus:"",updateTime:0,image1:"",image2:"",showConfirm:!0},searchImg:e("4568")}},methods:{tipShow:function(t){this.cutDialogVisible=!this.cutDialogVisible,this.clickImgUrl=1===t?this.fireDetailInfo.image1:this.fireDetailInfo.image2},back:function(){this.$router.push({path:"/systemSettings"})},getFirePoliceList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e={timeBegin:t.pageData.beginTime,timeEnd:t.pageData.endTime,currentPage:t.pageData.currentPage,pageSize:t.pageData.pageSize,alarmAddress:t.pageData.alarmAddress},t.$axios.get(l["a"].getDurationFireAlarmInfos,{params:e}).then((function(a){if(a&&a.data&&0===a.data.code){t.firePoliceList=a.data.data.data;for(var e=0;e<t.firePoliceList.length;e++){var i=t.firePoliceList[e];if(i.alarmTime&&(i.alarmTime=t.dateFormat(i.alarmTime)),i.updateTime&&(i.updateTime=t.dateFormat(i.updateTime)),"confirmed"===i.alarmStatus?i.alarmStatus="确认":"mistaken"===i.alarmStatus?i.alarmStatus="误报":i.alarmStatus="",i.alarmPicList)if(1===i.alarmPicList.length)i.alarmPicList[0].picPath=o["a"].baseUrl+i.alarmPicList[0].picPath,i.alarmPicList[1]={picPath:""};else for(var r=0;r<i.alarmPicList.length;r++){var s=i.alarmPicList[r];s.picPath=o["a"].baseUrl+s.picPath}else i.alarmPicList[0]={picPath:""},i.alarmPicList[1]={picPath:""}}t.pageData.total=a.data.data.paginator.totalCount}}));case 2:case"end":return a.stop()}}),a)})))()},Appendzero:function(t){return t<10?"0"+t:t},dateFormat:function(t){var a=new Date(t),e=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,i=a.getFullYear()+"/"+e+"/"+this.Appendzero(a.getDate())+" "+this.Appendzero(a.getHours())+":"+this.Appendzero(a.getMinutes())+":"+this.Appendzero(a.getSeconds());return i},ClickTableRow:function(t){this.radio=this.firePoliceList.indexOf(t);var a=this.firePoliceList[this.radio];a.alarmPicList&&(this.fireDetailInfo.image1=a.alarmPicList[0].picPath,this.fireDetailInfo.image2=a.alarmPicList[1].picPath),this.fireDetailInfo.alarmTime=a.alarmTime,this.fireDetailInfo.alarmTypeName=a.alarmTypeName,this.fireDetailInfo.deviceName=a.deviceName,this.fireDetailInfo.alarmAddress=a.alarmAddress,this.fireDetailInfo.alarmStatus=a.alarmStatus,this.fireDetailInfo.updateTime=a.updateTime,this.fireDetailInfo.id=a.id,"确认"===a.alarmStatus||"误报"===a.alarmStatus?this.fireDetailInfo.showConfirm=!1:this.fireDetailInfo.showConfirm=!0,this.showFireDetail=!0;var e=this;setTimeout((function(){var t=e.$refs.gduMap.map2D;t._map.updateSize(),t.zoomToCenter(a.alarmLongitude,a.alarmLatitude),t.customMarkerLayerManager.addMarker({lon:a.alarmLongitude,lat:a.alarmLatitude}),t.setZoom(16)}),500)},confirmFireDetail:function(t){var a=this;this.$axios.post(l["a"].confirmFireAlarmInfo+"/"+this.fireDetailInfo.id+"/"+t).then((function(t){0===t.data.code?(a.showFireDetail=!1,a.getFirePoliceList()):Object(n["Notification"])({title:"提示",message:"操作失败",type:"warning",duration:5e3})}))},dateSearch:function(){if(this.date1){this.pageData.currentPage=1;var t=new Date(this.date1[0]),a=t.getTime(),e=new Date(this.date1[1]),i=e.getTime();this.pageData.beginTime=a,this.pageData.endTime=i,this.getFirePoliceList()}else this.pageData.beginTime="",this.pageData.endTime="",this.getFirePoliceList()},currentPageChange:function(){this.getFirePoliceList()},addressSearch:function(){this.pageData.alarmAddress.length<=0?Object(n["Notification"])({title:"提示",message:"请输入地址后查询",type:"warning",duration:5e3}):(this.pageData.currentPage=1,this.getFirePoliceList())}}},p=c,d=(e("644a7"),e("c6d3"),e("2877")),u=Object(d["a"])(p,i,r,!1,null,"e4f1251e",null);a["default"]=u.exports},be22:function(t,a,e){},c6d3:function(t,a,e){"use strict";var i=e("be22"),r=e.n(i);r.a}}]);